{"version":3,"sources":["utils/API.js","components/CustomAvatar.js","layouts/video/CardCommentsLayout.js","components/Loading.js","components/CardVideoWithAbout.js","layouts/VerticalPanelCardsVideosLayout.js","context/actions.js","context/reducer.js","context/context.js","layouts/video/CardVideoLayout.js","pages/VideoPage.js","components/CardVideoWithViews.js","layouts/PanelCardsVideosLayout.js","layouts/home/HomeVideosLayout.js","pages/HomePage.js","components/CustomSearch.js","layouts/AppBar.js","layouts/auth/LoginLayout.js","layouts/auth/RegisterLayout.js","pages/AuthPage.js","pages/NewVideoPage.js","pages/NotFoundPage.js","layouts/profile/TableVideosLayout.js","layouts/profile/EditProfileLayout.js","pages/ProfilePage.js","pages/ResetPasswordPage.js","pages/UserPage.js","App.js","index.js"],"names":["API","axios","create","baseURL","responseType","interceptors","request","use","config","token","localStorage","getItem","JSON","parse","headers","Authorization","useStyle","makeStyles","theme","orange","color","palette","getContrastText","deepOrange","backgroundColor","purple","deepPurple","CustomAvatar","props","max","src","name","classes","useState","Math","floor","random","isOrange","Avatar","alt","toUpperCase","onClick","style","className","useStyles","root","width","background","paper","inline","display","ListComments","enqueueSnackbar","useSnackbar","history","useHistory","list","map","item","createDate","Date","sort","a","b","setList","List","subheader","Fragment","ListSubheader","Divider","variant","Array","prototype","call","index","ListItem","alignItems","ListItemAvatar","user","img","push","id","cursor","ListItemText","primary","Typography","component","marginLeft","toLocaleString","secondary","text","isAdmin","ListItemSecondaryAction","IconButton","edge","aria-label","delete","then","res","l","slice","removed","splice","error","deleteComment","Delete","length","CardCommentsLayout","userId","videoId","auth","loading","setLoading","setText","loadComments","get","response","console","log","data","useEffect","Paper","Grid","container","direction","justify","paddingLeft","paddingRight","spacing","xs","TextField","margin","fullWidth","multiline","rowsMax","rows","onChange","e","target","value","placeholder","autoComplete","Button","createCommentData","video_id","user_id","post","CircularProgress","center","Loading","Card","CardContent","LinearProgress","add","marginBottom","media","height","CardVideoWithAbout","CardActionArea","go","gutterBottom","about","VerticalPanelCardsVideosLayout","isLoaded","setIsLoaded","videosData","setVideosData","content","catch","Videos","loginUser","dispatch","loginPayload","ok","type","username","payload","setItem","stringify","errors","logout","removeItem","checkAuth","put","initialState","errorMessage","AuthReducer","action","Error","AuthStateContext","React","createContext","AuthDispatchContext","useAuthState","context","useContext","undefined","useAuthDispatch","AuthProvider","children","useReducer","Provider","video","outline","CardVideoLayout","videoToken","userDetails","videoData","setVideoData","likes","dislikes","mark","setMark","like","setLike","markLoad","setMarkLoad","changeMark","markOwner","Video","CardMedia","controls","CardHeader","title","views","toLocaleDateString","isPrivate","disabled","ThumbUp","ThumbDown","avatar","CardActions","VideoPage","useParams","lg","md","sm","card","card_img","minHeight","objectFit","CardVideoWithViews","wrap","PanelCardsVideosLayout","handleNextPage","nextPage","HomeVideosLayout","page","setPage","next","setNext","query","URLSearchParams","useLocation","search","url","v","totalPages","HomePage","padding","maxWidth","input","flex","iconButton","divider","innerTheme","createMuiTheme","info","grey","CustomizedSearch","str","setStr","ThemeProvider","Container","onSubmit","event","preventDefault","test","InputBase","inputProps","orientation","window","location","reload","Star","fontSize","grow","flexGrow","menuButton","marginRight","breakpoints","up","titleOne","sectionDesktop","sectionMobile","PrimarySearchAppBar","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMobileMenuOpen","Boolean","handleProfileMenuOpen","handleMobileMenuClose","handleExit","handleNewVideo","menuId","mobileMenuId","renderMobileMenu","Menu","anchorEl","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","onClose","MenuItem","Badge","VideoCall","aria-controls","aria-haspopup","ExitToApp","AppBar","position","Toolbar","noWrap","pathname","currentTarget","marginTop","flexDirection","main","form","submit","WebkitBoxShadow","LoginLayout","setOpen","login","password","formData","setFormData","handleLogin","handleChange","formData1","label","autoFocus","validators","errorMessages","Link","handleLink","ResetPassword","handleClose","emailRef","useRef","handleButton","email","current","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","inputRef","DialogActions","RegisterLayout","CssBaseline","AuthPage","setLogin","CircularProgressWithLabel","Box","top","left","bottom","right","justifyContent","round","userStyle","backdrop","zIndex","drawer","NewVideoPage","load","setLoad","progress","setProgress","f","FormData","append","toString","document","getElementById","files","onUploadProgress","progressEvent","totalLength","lengthComputable","total","getResponseHeader","loaded","accept","htmlFor","FormControlLabel","control","Switch","checked","Backdrop","font","NotFoundPage","descendingComparator","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","el","headCells","numeric","disablePadding","EnhancedTableHead","onRequestSort","TableHead","TableRow","headCell","TableCell","align","sortDirection","TableSortLabel","active","property","visuallyHidden","table","minWidth","border","clip","overflow","TableVideosLayout","setOrder","setOrderBy","setRows","currentRow","setCurrentRow","loadRows","r","emptyRows","min","closeEditVideo","TableContainer","Table","size","rowCount","TableBody","row","hover","role","tabIndex","openEditVideo","colSpan","TablePagination","rowsPerPageOptions","count","rowsPerPage","onChangePage","newPage","EditVideo","handleChangeInput","handlePrivate","EditProfileLayout","changeUsername","file","reader","FileReader","readAsDataURL","onload","result","onerror","PhotoCamera","varint","addVideo","ProfilePage","ResetPasswordPage","passwordRef","noValidate","newPassword","UserPage","userData","setUserData","loadUserData","ButtonGroup","sx","Fade","pink","values","xl","locales","StyledContainer","withStyles","Routing","path","exact","App","maxSnack","ReactDOM","render"],"mappings":"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","file":"static/js/main.a58e5b1f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst API =  axios.create({\r\n    baseURL: \"/api/\",\r\n    //baseURL: \"http://localhost:8080/api/\",\r\n    responseType: \"json\"\r\n});\r\n\r\nAPI.interceptors.request.use(function (config) {\r\n    const token = localStorage.getItem('currentUser')\r\n        ? JSON.parse(localStorage.getItem('currentUser')).token\r\n        : '';\r\n    config.headers.Authorization =  token !== '' ? `Bearer_${token}` : '';\r\n    return config;\r\n});\r\n\r\nexport default API;","import {Avatar, makeStyles} from \"@material-ui/core\";\r\nimport React, {useState} from \"react\";\r\nimport deepOrange from \"@material-ui/core/colors/deepOrange\";\r\nimport deepPurple from \"@material-ui/core/colors/deepPurple\";\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    orange: {\r\n        color: theme.palette.getContrastText(deepOrange[500]),\r\n        backgroundColor: deepOrange[500],\r\n    },\r\n    purple: {\r\n        color: theme.palette.getContrastText(deepPurple[500]),\r\n        backgroundColor: deepPurple[500],\r\n    },\r\n}))\r\n\r\nfunction getRandomInt(max) {\r\n    return Math.floor(Math.random() * Math.floor(max));\r\n}\r\n\r\nexport default function CustomAvatar(props) {\r\n    const src = props.src;\r\n    const name = props.name;\r\n    const classes = useStyle();\r\n    const [isOrange] = useState(props.orange !== 1 ? getRandomInt(2) : 0);\r\n\r\n    return (\r\n        <Avatar\r\n            src={src !== \"default.png\" ? src : \"\"}\r\n            alt={name[0].toUpperCase()}\r\n            onClick={props.onClick}\r\n            style={{...props.style}}\r\n            className={isOrange === 0 ? classes.orange : classes.purple}\r\n        >\r\n            {name[0].toUpperCase()}\r\n        </Avatar>\r\n    )\r\n}","import Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {Delete} from \"@material-ui/icons\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport API from \"../../utils/API\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport {useHistory} from \"react-router\";\r\nimport CustomAvatar from \"../../components/CustomAvatar\";\r\n\r\n\r\nfunction CardCommentsLayout(props) {\r\n    const userId = props.userId;\r\n    const videoId = props.videoId;\r\n    const isAdmin = props.isAdmin;\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const auth = props.auth;\r\n    const [list, setList] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [text, setText] = useState(\"\");\r\n\r\n    function loadComments() {\r\n        setLoading(false);\r\n\r\n        API.get(\"comments/video/\" + videoId)\r\n            .then((response) => {\r\n                console.log(response.data.data);\r\n                setList(response.data.data);\r\n                setLoading(true);\r\n            }, (error) => {\r\n                console.log(error.data);\r\n                enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                setLoading(true);\r\n            })\r\n\r\n    }\r\n\r\n    function handleChange(e) {\r\n        setText(e.target.value);\r\n    }\r\n\r\n    function handleCreateComment() {\r\n        const createCommentData = {\r\n            text: text,\r\n            video_id: videoId,\r\n            user_id: userId\r\n        }\r\n\r\n        API.post(\"comments\", createCommentData)\r\n            .then(\r\n                (response) => {\r\n                    console.log(response.data.data)\r\n                    setText(\"\");\r\n                    enqueueSnackbar(\"Комментарий успешно создан\", {variant: \"success\"});\r\n                    loadComments();\r\n                },\r\n                (error) => {\r\n                    console.log(error.data);\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                });\r\n    }\r\n\r\n    useEffect(loadComments, []);\r\n\r\n    return (\r\n        <Paper>\r\n            <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"stretch\"\r\n                style={{paddingLeft: 15, paddingRight: 15}}\r\n                spacing={3}\r\n            >\r\n                {auth &&\r\n                <Grid item xs >\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth={true}\r\n                        multiline\r\n                        rowsMax={20}\r\n                        rows={4}\r\n                        onChange={handleChange}\r\n                        placeholder=\"Напишите комментарий\"\r\n                        name=\"text\"\r\n                        value={text}\r\n                        autoComplete=\"off\"\r\n                    />\r\n                    <Button\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                        onClick={handleCreateComment}\r\n                    >\r\n                        Отправить\r\n                    </Button>\r\n                </Grid>\r\n                }\r\n                <Grid item xs  >\r\n                    { loading ? <ListComments isAdmin={isAdmin} list={list}  /> : <CircularProgress /> }\r\n                </Grid>\r\n            </Grid>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        backgroundColor: theme.palette.background.paper,\r\n    },\r\n    inline: {\r\n        display: 'inline',\r\n    },\r\n}));\r\n\r\nfunction ListComments(props) {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const history = useHistory();\r\n    const [list, setList] = useState(props.list.map((item) => {\r\n        item.createDate = new Date(item.createDate);\r\n        return item;\r\n    }).sort((a, b) => {\r\n        return new Date(b.createDate) - new Date(a.createDate);\r\n    }));\r\n\r\n    function deleteComment(item, index) {\r\n        API.delete(\"/comments/\" + item.id)\r\n            .then((res) => {\r\n                const l = list.slice();\r\n                const removed = l.splice(index, 1);\r\n                setList(l);\r\n                enqueueSnackbar(`Комменатрий ${removed[0].text} удален`, { variant: \"success\" });\r\n            },\r\n                (error) => {\r\n                enqueueSnackbar(\"Комменатрий не может быть удален\", { variant: \"warning\" });\r\n            })\r\n    }\r\n\r\n    return (\r\n        <List className={classes.root} subheader={\r\n            <React.Fragment>\r\n                <ListSubheader>Комментарии</ListSubheader>\r\n                <Divider variant=\"fullWidth\" />\r\n            </React.Fragment>\r\n        }>\r\n            {\r\n                Array.prototype.map.call(list, function (item, index) {\r\n                    return (\r\n                        <React.Fragment key={index}>\r\n                        <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                                <CustomAvatar\r\n                                    src={item.user.img}\r\n                                    name={item.user.name}\r\n                                    onClick={() => history.push(\"/user/\" + item.user.id)}\r\n                                    style={{cursor: 'pointer'}}\r\n                                />\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        <div onClick={() => history.push(\"/user/\" + item.user.id)} style={{cursor: 'pointer', display: 'inline'}}>\r\n                                            {item.user.name}\r\n                                        </div>\r\n                                        <Typography\r\n                                            component=\"span\"\r\n                                            variant=\"subtitle2\"\r\n                                            className={classes.inline}\r\n                                            color=\"textSecondary\"\r\n                                            style={{marginLeft:15}}\r\n                                        >\r\n                                            {new Date(item.createDate).toLocaleString()}\r\n                                        </Typography>\r\n                                    </React.Fragment>\r\n                                    }\r\n                                secondary={\r\n                                    <Typography\r\n                                        component=\"span\"\r\n                                        variant=\"body2\"\r\n                                        className={classes.inline}\r\n                                        color=\"textPrimary\"\r\n                                    >\r\n                                        {item.text}\r\n                                    </Typography>\r\n                                }\r\n                            />\r\n                            {props.isAdmin &&\r\n                            <ListItemSecondaryAction>\r\n                                <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => deleteComment(item, index)}>\r\n                                    <Delete />\r\n                                </IconButton>\r\n                            </ListItemSecondaryAction> }\r\n                        </ListItem>\r\n                            {index !== list.length - 1 && <Divider variant=\"fullWidth\" />}\r\n                        </React.Fragment>\r\n                    )\r\n                })\r\n            }\r\n        </List>\r\n    )\r\n}\r\n\r\n\r\nexport default CardCommentsLayout;","import Card from \"@material-ui/core/Card\";\r\nimport {CardContent} from \"@material-ui/core\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n    center: {\r\n        width: '100%'\r\n    }\r\n})\r\n\r\nfunction Loading() {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Card>\r\n            <CardContent>\r\n                <LinearProgress className={classes.center} />\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Loading;","import {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles({\r\n    add: {\r\n        width: '100%',\r\n        marginBottom: 10\r\n    },\r\n    media: {\r\n        height: 140\r\n    }\r\n})\r\n\r\nexport default function CardVideoWithAbout(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n\r\n    return (\r\n        <Card className={classes.add}>\r\n            <CardActionArea onClick={() => {\r\n                history.push(\"/video/\" + props.item.id);\r\n                history.go(0)\r\n            }}>\r\n                <CardContent>\r\n                    <Typography gutterBottom variant=\"subtitle1\">\r\n                        {props.item.name}\r\n                    </Typography>\r\n                    <Typography gutterBottom variant=\"body2\">\r\n                        {props.item.about}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle2\">\r\n                        {props.item.user.name}\r\n                    </Typography>\r\n                </CardContent>\r\n            </CardActionArea>\r\n        </Card>\r\n    )\r\n}","import React, {useEffect, useState} from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport API from \"../utils/API\";\r\nimport Loading from \"../components/Loading\";\r\nimport CardVideoWithAbout from \"../components/CardVideoWithAbout\";\r\n\r\n\r\nfunction VerticalPanelCardsVideosLayout() {\r\n\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [videosData, setVideosData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        API.get('/videos?size=5&sort=name,asc')\r\n            .then((res) => {\r\n                    console.log(res.data.content);\r\n                    setVideosData(res.data.content);\r\n                    setIsLoaded(true);\r\n                },\r\n                (error) => {\r\n                    const response = error.response\r\n                    console.log(response)\r\n                })\r\n            .catch(() => {\r\n                console.log('WOOOOW');\r\n            });\r\n    }, []);\r\n\r\n\r\n\r\n    const Videos = (\r\n        <div>\r\n            <Typography gutterBottom variant=\"subtitle1\" color=\"textSecondary\">\r\n                {\"Другие видео\"}\r\n            </Typography>\r\n            {\r\n                Array.prototype.map.call(videosData, function (item) {\r\n                    return <CardVideoWithAbout item={item} />;\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n\r\n    return !isLoaded ? <Loading />  : Videos;\r\n}\r\n\r\nexport default VerticalPanelCardsVideosLayout;","import API from \"../utils/API\";\r\n\r\n\r\nexport async function loginUser(dispatch, loginPayload) {\r\n    console.log(loginPayload);\r\n    let ok = false;\r\n    dispatch({ type: 'REQUEST_LOGIN' });\r\n    await API.post(\"/auth\", loginPayload).then((response) => {\r\n        let data = response.data;\r\n        console.log(data);\r\n        if (data.username) {\r\n            dispatch({ type: 'LOGIN_SUCCESS', payload: data });\r\n            console.log(data);\r\n            localStorage.setItem('currentUser', JSON.stringify(data));\r\n            ok = true;\r\n            return;\r\n        }\r\n        dispatch({ type: 'LOGIN_ERROR', error: data.errors[0] });\r\n        console.log(data);\r\n        ok = false;\r\n    },\r\n        (error) => {\r\n            const response = error.response\r\n            dispatch({ type: 'LOGIN_ERROR', error: response.data });\r\n            console.log(response)\r\n            ok = false;\r\n        });\r\n    return ok;\r\n}\r\n\r\nexport async function logout(dispatch) {\r\n    dispatch({ type: 'LOGOUT' });\r\n    localStorage.removeItem('currentUser');\r\n    localStorage.removeItem('token');\r\n}\r\n\r\nexport function checkAuth(dispatch) {\r\n    API.put('/auth/check', '').then(() => {\r\n        console.log(\"auth ok!\");\r\n    }).catch((error) => {\r\n        console.log(\"auth error!\");\r\n        dispatch({type: 'LOGOUT'});\r\n        localStorage.removeItem('currentUser');\r\n        localStorage.removeItem('token');\r\n    });\r\n}\r\n\r\nexport function changeUsername(dispatch, payload) {\r\n    dispatch({ type: 'LOGIN_SUCCESS', payload: payload });\r\n    localStorage.setItem('currentUser', JSON.stringify(payload));\r\n}","import React, { useState, useReducer } from 'react';\r\n\r\n\r\nlet user = localStorage.getItem('currentUser')\r\n    ? JSON.parse(localStorage.getItem('currentUser'))\r\n    : '';\r\nlet token = localStorage.getItem('currentUser')\r\n    ? JSON.parse(localStorage.getItem('currentUser')).token\r\n    : '';\r\n\r\nexport const initialState = {\r\n    user: '' || user,\r\n    token: '' || token,\r\n    loading: false,\r\n    errorMessage: null,\r\n};\r\n\r\nconsole.log(initialState);\r\n\r\nexport const AuthReducer = (initialState, action) => {\r\n    switch (action.type) {\r\n        case 'REQUEST_LOGIN':\r\n            return {\r\n                ...initialState,\r\n                loading: true,\r\n            };\r\n        case 'LOGIN_SUCCESS':\r\n            return {\r\n                ...initialState,\r\n                user: action.payload,\r\n                token: action.payload.token,\r\n                loading: false,\r\n            };\r\n        case 'LOGOUT':\r\n            return {\r\n                ...initialState,\r\n                user: '',\r\n                token: '',\r\n            };\r\n\r\n        case 'LOGIN_ERROR':\r\n            return {\r\n                ...initialState,\r\n                loading: false,\r\n                errorMessage: action.error,\r\n            };\r\n\r\n        default:\r\n            throw new Error(`Unhandled action type: ${action.type}`);\r\n    }\r\n}","import React, { useReducer } from 'react';\r\nimport { initialState, AuthReducer } from './reducer';\r\n\r\nconst AuthStateContext = React.createContext();\r\nconst AuthDispatchContext = React.createContext();\r\n\r\nexport function useAuthState() {\r\n    const context = React.useContext(AuthStateContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuthState must be used within a AuthProvider');\r\n    }\r\n\r\n    return context;\r\n}\r\n\r\nexport function useAuthDispatch() {\r\n    const context = React.useContext(AuthDispatchContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuthDispatch must be used within a AuthProvider');\r\n    }\r\n\r\n    return context;\r\n}\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n    const [user, dispatch] = useReducer(AuthReducer, initialState);\r\n    return (\r\n        <AuthStateContext.Provider value={user}>\r\n            <AuthDispatchContext.Provider value={dispatch}>\r\n                {children}\r\n            </AuthDispatchContext.Provider>\r\n        </AuthStateContext.Provider>\r\n    );\r\n};","import CardMedia from \"@material-ui/core/CardMedia\";\r\nimport CardHeader from \"@material-ui/core/CardHeader\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport {CardContent, IconButton} from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport API from \"../../utils/API\";\r\nimport {ThumbDown, ThumbUp} from \"@material-ui/icons\";\r\nimport {useAuthState} from \"../../context\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {useHistory} from \"react-router\";\r\nimport Loading from \"../../components/Loading\";\r\nimport CustomAvatar from \"../../components/CustomAvatar\";\r\n\r\nconst useStyles = makeStyles({\r\n    video: {\r\n        width: '100%',\r\n        outline: 'none'\r\n    }\r\n})\r\n\r\nfunction CardVideoLayout(props) {\r\n\r\n    const [videoToken] = useState(props.videoToken);\r\n    const userDetails = useAuthState();\r\n    const auth = userDetails.token !== '';\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const history = useHistory();\r\n\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [videoData, setVideoData] = useState({\r\n        id: 0,\r\n        video: 'unknow',\r\n        user: {\r\n            id: 0,\r\n            name: 'name',\r\n            img: 'img'\r\n        }\r\n    })\r\n    const [mark, setMark] = useState({\r\n        likes: 0,\r\n        dislikes: 0\r\n    })\r\n    const [like, setLike] = useState(0);\r\n    const [token] = useState(videoToken);\r\n    const [markLoad, setMarkLoad] = useState(false);\r\n\r\n\r\n    function loadMarks() {\r\n        setMarkLoad(true);\r\n        if (auth) {\r\n            API.get(`/marks/${videoToken}/user/${userDetails.user.id}`)\r\n                .then((response) => {\r\n                        const mark = response.data.data;\r\n                        setMarkLoad(false);\r\n                        setMark({\r\n                            likes: mark.likes,\r\n                            dislikes: mark.dislikes\r\n                        });\r\n                        setLike(mark.markOwner);\r\n                    },\r\n                    (error) => {\r\n                        enqueueSnackbar(error.response.data.error, { variant: \"error\"})\r\n                    })\r\n        } else {\r\n            API.get(`/marks/${videoToken}`)\r\n                .then((response) => {\r\n                        const mark = response.data.data;\r\n                        setMarkLoad(false);\r\n                        setMark({\r\n                            likes: mark.likes,\r\n                            dislikes: mark.dislikes\r\n                        });\r\n                        setLike(0);\r\n                    },\r\n                    (error) => {\r\n                        enqueueSnackbar(error.response.data.error, { variant: \"error\"})\r\n                    })\r\n        }\r\n    }\r\n\r\n    function changeMark(mark) {\r\n        setMarkLoad(true);\r\n        const data = {\r\n            videoId: videoToken,\r\n            userId: userDetails.user.id,\r\n            mark: mark\r\n        }\r\n        API.post('/marks/', data)\r\n            .then((response) => {\r\n                    const mark = response.data.data;\r\n                    setMarkLoad(false);\r\n                    setMark({\r\n                        likes: mark.likes,\r\n                        dislikes: mark.dislikes\r\n                    });\r\n                    setLike(mark.markOwner);\r\n            },\r\n                (error) => {\r\n                    enqueueSnackbar(error.response.data.error, { variant: \"error\"})\r\n                    setMarkLoad(false);\r\n                    setLike(0);\r\n                    setMarkLoad(false);\r\n                });\r\n    }\r\n\r\n    function deleteVideo() {\r\n        API.delete(\"videos/\" + videoToken)\r\n            .then((response) => {\r\n                    enqueueSnackbar(\"Успешное удаление\", {variant: \"success\"});\r\n                    history.push(\"/\");\r\n                },\r\n                (error) => {\r\n                    console.log(error);\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                })\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        API.get('/videos/' + token)\r\n            .then((res) => {\r\n                setVideoData(res.data.data);\r\n                setIsLoaded(true);\r\n                loadMarks();\r\n            },\r\n                (error) => {\r\n                    enqueueSnackbar(error.response.data.error, { variant: \"error\"})\r\n                })\r\n            .catch(() => {\r\n            });\r\n    }, []);\r\n\r\n    function handleLike() {\r\n        if (like === 1) {\r\n            changeMark(0);\r\n        }\r\n        else {\r\n            changeMark(1);\r\n        }\r\n    }\r\n\r\n    function handleDislike() {\r\n        if (like === -1) {\r\n            changeMark(0);\r\n        }\r\n        else {\r\n            changeMark(-1);\r\n        }\r\n    }\r\n\r\n    const Video = (\r\n        <Card>\r\n            <CardMedia>\r\n                <video className={classes.video} controls>\r\n                    <source src={\"http://localhost:8080/api/file/videos/\" + videoData.video} type=\"video/mp4\"/>\r\n                </video>\r\n            </CardMedia>\r\n            <CardHeader\r\n                title={videoData.name}\r\n                subheader={\r\n                    <React.Fragment>\r\n                        <Typography\r\n                            gutterBottom\r\n                            variant=\"subtitle1\"\r\n                        >\r\n                            {videoData.views + \" просмотров\"}\r\n                        </Typography>\r\n                        <Typography\r\n                            variant=\"subtitle2\"\r\n                        >\r\n                            {new Date(videoData.createDate).toLocaleDateString()}\r\n                        </Typography>\r\n                        {videoData.isPrivate &&\r\n                        <Typography\r\n                            variant=\"subtitle2\"\r\n                        >\r\n                            {\"Это приватное видео\"}\r\n                        </Typography>\r\n                        }\r\n                    </React.Fragment>\r\n                }\r\n                action={\r\n                    <React.Fragment>\r\n                        <IconButton\r\n                            color={like === 1 ? \"primary\" : \"default\"}\r\n                            disabled={!auth || markLoad}\r\n                            onClick={handleLike}\r\n                        >\r\n                            <ThumbUp />\r\n                        </IconButton>\r\n                        <Typography\r\n                            variant=\"subtitle2\"\r\n                            style={{display: 'inline'}}\r\n                            color=\"textSecondary\"\r\n                        >\r\n                            {mark.likes}\r\n                        </Typography>\r\n                        <IconButton\r\n                            color={like === -1 ? \"primary\" : \"default\"}\r\n                            disabled={!auth || markLoad}\r\n                            onClick={handleDislike}\r\n                        >\r\n                            <ThumbDown />\r\n                        </IconButton>\r\n                        <Typography\r\n                            variant=\"subtitle2\"\r\n                            color=\"textSecondary\"\r\n                            style={{display: 'inline'}}\r\n                        >\r\n                            {mark.dislikes}\r\n                        </Typography>\r\n                    </React.Fragment>\r\n                }\r\n            />\r\n            <Divider variant=\"middle\" />\r\n            <CardHeader\r\n                avatar={\r\n                    <CustomAvatar\r\n                        src={videoData.user.img}\r\n                        name={videoData.user.name}\r\n                        onClick={() => history.push(\"/user/\" + videoData.user.id)}\r\n                        style={{cursor: 'pointer'}}\r\n                    />\r\n                }\r\n                title={<div onClick={() => history.push(\"/user/\" + videoData.user.id)} style={{cursor: 'pointer'}}>{videoData.user.name}</div>}/>\r\n            <CardContent>\r\n                <Typography>\r\n                    {videoData.about}\r\n                </Typography>\r\n            </CardContent>\r\n            {userDetails.user.isAdmin === true &&\r\n            <CardActions>\r\n                <Button color=\"secondary\" onClick={deleteVideo}>Удалить видео</Button>\r\n            </CardActions>}\r\n        </Card>\r\n    );\r\n\r\n    return !isLoaded ? <Loading /> : Video;\r\n\r\n}\r\n\r\nexport default CardVideoLayout;","import React, {useEffect} from 'react';\r\nimport 'fontsource-roboto';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport CardCommentsLayout from \"../layouts/video/CardCommentsLayout\";\r\nimport VerticalPanelCardsVideosLayout from \"../layouts/VerticalPanelCardsVideosLayout\";\r\nimport CardVideoLayout from \"../layouts/video/CardVideoLayout\";\r\nimport {useAuthDispatch, useAuthState} from \"../context\";\r\nimport {checkAuth} from \"../context/actions\";\r\n\r\n\r\nfunction VideoPage() {\r\n    const { videoToken } = useParams();\r\n    const dispatch = useAuthDispatch();\r\n    const userDetails = useAuthState();\r\n    const auth = userDetails.token !== '';\r\n    useEffect(() => checkAuth(dispatch), []);\r\n    return (\r\n        <Grid container spacing={4} justify=\"center\">\r\n            <Grid item lg={11} md={9} xs={12}>\r\n                <CardVideoLayout videoToken={videoToken} />\r\n            </Grid>\r\n            <Grid item xs={12} md={6} lg={7} sm={7}>\r\n                <CardCommentsLayout isAdmin={userDetails.user.isAdmin === true} videoId={videoToken} userId={userDetails.user.id} auth={auth} />\r\n            </Grid>\r\n            <Grid item xs={10} md={3} lg={4} sm={5}>\r\n                <VerticalPanelCardsVideosLayout />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default VideoPage;","import {useHistory} from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst useStyles = makeStyles({\r\n    card: {\r\n        width: 355\r\n    },\r\n    card_img: {\r\n        width: '100%',\r\n        minHeight: 200,\r\n        objectFit: 'contain'\r\n    }\r\n})\r\n\r\nexport default function CardVideoWithViews(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n\r\n    return (\r\n        <Grid item xs=\"auto\">\r\n            <Card className={classes.card}>\r\n                <CardActionArea onClick={() => history.push(\"/video/\" + props.item.id)}>\r\n                    <CardContent>\r\n                        <Typography gutterBottom variant=\"h5\">\r\n                            {props.item.name}\r\n                        </Typography>\r\n                        <Typography variant=\"subtitle2\">\r\n                            {\"Автор: \" + props.item.user.name}\r\n                        </Typography>\r\n                        <Grid container justify=\"flex-end\" wrap=\"nowrap\" alignItems=\"center\" spacing={1}>\r\n                            <Grid item>\r\n                                <Typography variant=\"body2\">{\"Количество просмотров: \" + props.item.views}</Typography>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n            </Card>\r\n        </Grid>\r\n    )\r\n}","import Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport CardVideoWithViews from \"../components/CardVideoWithViews\";\r\n\r\n\r\nexport default function PanelCardsVideosLayout(props) {\r\n    const videosData = props.videosData;\r\n    const handleNextPage = props.handleNextPage;\r\n    const nextPage = props.nextPage;\r\n    return (\r\n        <Grid container spacing={4} justify=\"flex-start\" alignItems=\"center\">\r\n            {videosData.length === 0 &&\r\n            <Grid container item xs={12} justify=\"center\">\r\n                <Typography variant=\"h5\" color=\"textSecondary\">\r\n                    Видео не найдены\r\n                </Typography>\r\n            </Grid>}\r\n            {\r\n                videosData.length !== 0 &&\r\n                <React.Fragment>\r\n                    {\r\n                        Array.prototype.map.call(videosData, function (item) {\r\n                            return <CardVideoWithViews key={item.id} item={item} />;\r\n                        })\r\n                    }\r\n                    {nextPage &&\r\n                    <Grid container item xs={12} justify=\"center\">\r\n                        <Button variant=\"outlined\" onClick={handleNextPage}>\r\n                            Показать еще\r\n                        </Button>\r\n                    </Grid>}\r\n                </React.Fragment>\r\n            }\r\n        </Grid>\r\n    )\r\n}","import React, {useEffect, useState} from \"react\";\r\nimport API from \"../../utils/API\";\r\nimport {useLocation} from \"react-router\";\r\nimport Loading from \"../../components/Loading\";\r\nimport PanelCardsVideosLayout from \"../PanelCardsVideosLayout\";\r\n\r\n\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction HomeVideosLayout() {\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n    const [videosData, setVideosData] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const [next, setNext] = useState(false);\r\n    const query = useQuery();\r\n    const [name] = useState(query.get(\"name\"))\r\n    const [sort] = useState(query.get(\"sort\"))\r\n\r\n    useEffect(() => {\r\n        const url = name ? `/videos?page=${page}&name=${name}` : (sort ? `/videos?page=${page}&sort=views,desc` : `/videos?page=${page}`);\r\n        API.get(url)\r\n            .then((res) => {\r\n                    const v = videosData.slice();\r\n                    Array.prototype.map.call(res.data.content, (item) => {\r\n                        v.push(item);\r\n                    })\r\n                    setVideosData(v);\r\n                    setIsLoaded(true);\r\n                    setNext((page + 1) !== res.data.totalPages);\r\n                },\r\n                (error) => {\r\n                    const response = error.response\r\n                    console.log(response)\r\n                })\r\n            .catch(() => {\r\n\r\n            });\r\n    }, [page]);\r\n\r\n\r\n    const Videos = <PanelCardsVideosLayout\r\n        handleNextPage={() => { setPage(page + 1);}}\r\n        nextPage={next}\r\n        videosData={videosData}\r\n    />\r\n\r\n    return !isLoaded ? <Loading />  : Videos;\r\n}\r\n\r\nexport default HomeVideosLayout;","import React, {useEffect} from \"react\";\r\nimport {useAuthDispatch} from \"../context\";\r\nimport {checkAuth} from \"../context/actions\";\r\nimport HomeVideosLayout from \"../layouts/home/HomeVideosLayout\";\r\n\r\n\r\n\r\n\r\n\r\nfunction HomePage() {\r\n    const dispatch = useAuthDispatch();\r\n    useEffect(() => checkAuth(dispatch), []);\r\n    return (\r\n        <HomeVideosLayout />\r\n    )\r\n}\r\n\r\nexport default HomePage;","import IconButton from \"@material-ui/core/IconButton\";\r\nimport React, {useState} from \"react\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport {orange} from \"@material-ui/core/colors\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {Container} from \"@material-ui/core\";\r\nimport {useHistory, useLocation} from \"react-router\";\r\nimport {Star} from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        padding: '2px 4px',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        maxWidth: 400,\r\n        background: \"#ffa82b\"\r\n    },\r\n    input: {\r\n        marginLeft: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n    iconButton: {\r\n        padding: 10,\r\n    },\r\n    divider: {\r\n        height: 28,\r\n        margin: 4,\r\n    },\r\n}));\r\n\r\nconst innerTheme = createMuiTheme({\r\n    palette: {\r\n        primary: orange,\r\n        secondary: orange,\r\n        info: grey,\r\n    },\r\n});\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function CustomizedSearch() {\r\n    const classes = useStyles();\r\n    const query = useQuery();\r\n    const [str, setStr] = useState(query.get(\"name\") ? query.get(\"name\") : \"\");\r\n    const history = useHistory();\r\n\r\n    function searchSubmit(event) {\r\n        event.preventDefault();\r\n        if (!(!str || /^\\s*$/.test(str))) {\r\n            history.push(\"/?name=\" + str);\r\n            history.go(0)\r\n        } else {\r\n            setStr(\"\");\r\n        }\r\n    }\r\n\r\n    function changeString(event) {\r\n        setStr(event.target.value);\r\n    }\r\n\r\n    function sortByLikes() {\r\n        history.push(\"/?sort=views\");\r\n        window.location.reload();\r\n    }\r\n\r\n    return (\r\n        <ThemeProvider theme={innerTheme}>\r\n            <Container component=\"form\" className={classes.root} onSubmit={searchSubmit}>\r\n                <InputBase\r\n                    className={classes.input}\r\n                    placeholder=\"Поиск\"\r\n                    inputProps={{ 'aria-label': 'Поиск' }}\r\n                    onChange={changeString}\r\n                    value={str}\r\n                />\r\n                <IconButton color=\"inherit\" type=\"submit\" className={classes.iconButton} aria-label=\"search\">\r\n                    <SearchIcon />\r\n                </IconButton>\r\n                <Divider className={classes.divider} orientation=\"vertical\" />\r\n                <IconButton color=\"inherit\" className={classes.iconButton} aria-label=\"directions\" onClick={sortByLikes}>\r\n                    <Star fontSize=\"small\" />\r\n                </IconButton>\r\n            </Container>\r\n        </ThemeProvider>\r\n    );\r\n}","import React, {useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport {ExitToApp, VideoCall} from \"@material-ui/icons\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {logout, useAuthDispatch, useAuthState} from \"../context\";\r\nimport {checkAuth} from \"../context/actions\";\r\nimport CustomizedSearch from \"../components/CustomSearch\";\r\nimport CustomAvatar from \"../components/CustomAvatar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n        cursor: 'pointer'\r\n    },\r\n    titleOne: {\r\n        display: 'block',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'none',\r\n        },\r\n        cursor: 'pointer'\r\n    },\r\n    search: {\r\n        marginRight: theme.spacing(2),\r\n        marginLeft: theme.spacing(2),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(3),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    sectionDesktop: {\r\n        display: 'none',\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'flex',\r\n        },\r\n    },\r\n    sectionMobile: {\r\n        display: 'flex',\r\n        [theme.breakpoints.up('md')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n}));\r\n\r\nexport default function PrimarySearchAppBar() {\r\n    const classes = useStyles();\r\n    const dispatch = useAuthDispatch();\r\n    const userDetails = useAuthState();\r\n    const auth = userDetails.token !== '';\r\n    useEffect(() => checkAuth(dispatch), []);\r\n    const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n\r\n\r\n\r\n    const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n    const history = useHistory();\r\n\r\n    const handleProfileMenuOpen = (event) => {\r\n        if (!auth) {\r\n            history.push(\"/auth\");\r\n        } else {\r\n            history.push(\"/profile\");\r\n        }\r\n        handleMobileMenuClose()\r\n    };\r\n\r\n    const handleMobileMenuClose = () => {\r\n        setMobileMoreAnchorEl(null);\r\n    };\r\n\r\n    const handleExit = async () => {\r\n        await logout(dispatch);\r\n        handleMobileMenuClose()\r\n    };\r\n\r\n    const handleNewVideo = () => {\r\n        if (auth) {\r\n            history.push(\"/new\");\r\n        }\r\n        handleMobileMenuClose()\r\n    }\r\n\r\n\r\n    const handleMobileMenuOpen = (event) => {\r\n        setMobileMoreAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const menuId = 'primary-search-account-menu';\r\n\r\n    const mobileMenuId = 'primary-search-account-menu-mobile';\r\n    const renderMobileMenu = (\r\n        <Menu\r\n            anchorEl={mobileMoreAnchorEl}\r\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n            id={mobileMenuId}\r\n            keepMounted\r\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n            open={isMobileMenuOpen}\r\n            onClose={handleMobileMenuClose}\r\n        >\r\n            {auth &&\r\n            <MenuItem onClick={handleNewVideo}>\r\n                <IconButton color=\"inherit\">\r\n                    <Badge color=\"secondary\">\r\n                        <VideoCall />\r\n                    </Badge>\r\n                </IconButton>\r\n                <p>Добавить видео</p>\r\n            </MenuItem>\r\n            }\r\n            <MenuItem onClick={handleProfileMenuOpen}>\r\n                <IconButton\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls=\"primary-search-account-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <AccountCircle />\r\n                </IconButton>\r\n                <p>Profile</p>\r\n            </MenuItem>\r\n            {auth && <MenuItem onClick={handleExit}>\r\n                <IconButton\r\n                    aria-label=\"Выйти из аккаунта\"\r\n                    aria-controls=\"primary-search-account-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    color=\"inherit\"\r\n                >\r\n                    <ExitToApp/>\r\n                </IconButton>\r\n                <p>Exit</p>\r\n            </MenuItem>\r\n            }\r\n        </Menu>\r\n    );\r\n\r\n    return (\r\n        <div className={classes.grow}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <Typography className={classes.title} variant=\"h6\" noWrap onClick={() => {\r\n                        const go = window.location.pathname === \"/\";\r\n                        history.push(\"/\");\r\n                        if (go) history.go(0);\r\n                    }}>\r\n                        Tronica\r\n                    </Typography>\r\n                    <Typography className={classes.titleOne} variant=\"h5\" onClick={() => {\r\n                        const go = window.location.pathname === \"/\";\r\n                        history.push(\"/\");\r\n                        if (go) history.go(0);\r\n                    }}>\r\n                        T\r\n                    </Typography>\r\n                    <div className={classes.search}>\r\n                        <CustomizedSearch />\r\n                    </div>\r\n                    <div className={classes.grow} />\r\n                    <div className={classes.sectionDesktop}>\r\n                        {auth &&\r\n                        <IconButton aria-label=\"Добавить новое видео\" color=\"inherit\" onClick={handleNewVideo}>\r\n                            <Badge color=\"secondary\">\r\n                                <VideoCall />\r\n                            </Badge>\r\n                        </IconButton>\r\n                        }\r\n\r\n                        <IconButton\r\n                            aria-label=\"Ваш аккаунт\"\r\n                            aria-controls={menuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleProfileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            {auth ?\r\n                                <CustomAvatar\r\n                                src={userDetails.user.img}\r\n                                name={userDetails.user.username}\r\n                                style={{height:30, width: 30}}\r\n                                orange={1}\r\n                                />\r\n                            :\r\n                                <AccountCircle />\r\n                            }\r\n                        </IconButton>\r\n                        {auth &&\r\n                        <IconButton\r\n                            edge=\"end\"\r\n                            aria-label=\"Выйти из аккаунта\"\r\n                            aria-controls={menuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleExit}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <ExitToApp/>\r\n                        </IconButton>\r\n                        }\r\n                    </div>\r\n                    <div className={classes.sectionMobile}>\r\n                        <IconButton\r\n                            aria-label=\"show more\"\r\n                            aria-controls={mobileMenuId}\r\n                            aria-haspopup=\"true\"\r\n                            onClick={handleMobileMenuOpen}\r\n                            color=\"inherit\"\r\n                        >\r\n                            <MoreIcon />\r\n                        </IconButton>\r\n                    </div>\r\n                </Toolbar>\r\n            </AppBar>\r\n            {renderMobileMenu}\r\n        </div>\r\n    );\r\n}","import React, {useRef, useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {loginUser, useAuthDispatch, useAuthState} from \"../../context\";\r\nimport {useHistory} from \"react-router\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport API from \"../../utils/API\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    input: {\r\n        WebkitBoxShadow: \"0 0 0 1000px #303030 inset\"\r\n    }\r\n}));\r\n\r\nexport default function LoginLayout(props) {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const [formData, setFormData] = useState({\r\n        login: '',\r\n        password: ''\r\n    })\r\n\r\n    const dispatch = useAuthDispatch();\r\n    const { loading } = useAuthState();\r\n\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            let username = formData.login;\r\n            let password = formData.password;\r\n            let user = await loginUser(dispatch, { username, password });\r\n            console.log('alo', user);\r\n            if (user) {\r\n                enqueueSnackbar(\"Вы авторизованы!\", { variant: 'success' });\r\n                history.push('/');\r\n            } else {\r\n                enqueueSnackbar(\"Неправильный логин/пароль\", { variant: 'error' });\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        const formData1 = {\r\n            password: formData.password,\r\n            login: formData.login\r\n        };\r\n        formData1[event.target.name] = event.target.value;\r\n        setFormData(formData1);\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\" color=\"textPrimary\">\r\n                    Войти\r\n                </Typography>\r\n                <ValidatorForm className={classes.form} onSubmit={handleLogin}>\r\n                    <TextValidator\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        id=\"login\"\r\n                        label=\"Логин\"\r\n                        name=\"login\"\r\n                        autoComplete=\"username\"\r\n                        autoFocus\r\n                        disabled={loading}\r\n                        validators={['required']}\r\n                        errorMessages={['Это поле обязательное']}\r\n                        value={formData.login}\r\n                        onChange={handleChange}\r\n                        inputProps={{ className: classes.input }}\r\n                    />\r\n                    <TextValidator\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Пароль\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        disabled={loading}\r\n                        validators={['required']}\r\n                        errorMessages={['Это поле обязательное']}\r\n                        value={formData.password}\r\n                        onChange={handleChange}\r\n                        inputProps={{ className: classes.input }}\r\n                    />\r\n                    <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                    >\r\n                        Войти\r\n                    </Button>\r\n                    <Grid container>\r\n                        <Grid item xs>\r\n                            <Link style={{cursor: 'pointer'}} variant=\"body2\" onClick={handleClickOpen}>\r\n                                Забыли пароль?\r\n                            </Link>\r\n                        </Grid>\r\n                        <Grid item>\r\n                            <Link style={{cursor: 'pointer'}} variant=\"body2\" onClick={() => props.handleLink()}>\r\n                                {\"Нет аккаунта? Зарегистрироваться\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </ValidatorForm>\r\n            </div>\r\n            <ResetPassword handleClose={handleClose} open={open} />\r\n        </Container>\r\n    );\r\n}\r\n\r\n\r\nfunction ResetPassword(props) {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const emailRef = useRef(null);\r\n\r\n    const handleButton = async () => {\r\n\r\n        const data = {\r\n            email: emailRef.current.value\r\n        }\r\n\r\n        await API.post('reset', data)\r\n            .then((data) => {\r\n                    enqueueSnackbar(\"Проверьте почту\", { variant: 'success' });\r\n            },\r\n                (error) => {\r\n                    enqueueSnackbar(\"Пользователя с такой почтой не существует\", { variant: 'error' });\r\n            });\r\n\r\n\r\n        props.handleClose();\r\n    }\r\n\r\n    return (\r\n        <Dialog open={props.open} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">Восстановление пароля</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Введите свою почту для восстановления пароля\r\n                </DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    id=\"name\"\r\n                    inputRef={emailRef}\r\n                    label=\"Email\"\r\n                    type=\"email\"\r\n                    autoComplete=\"email\"\r\n                    fullWidth\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={props.handleClose} color=\"primary\">\r\n                    Отмена\r\n                </Button>\r\n                <Button onClick={handleButton} color=\"primary\">\r\n                    Восстановить пароль\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import React, { useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport API from \"../../utils/API\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport { ValidatorForm, TextValidator} from 'react-material-ui-form-validator';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(3),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    input: {\r\n        WebkitBoxShadow: \"0 0 0 1000px #303030 inset\"\r\n    }\r\n}));\r\n\r\nexport default function RegisterLayout(props) {\r\n    const classes = useStyles();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '',\r\n        login: ''\r\n    })\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSignUp = () => {\r\n        setLoading(true);\r\n        const data = {\r\n            username: formData.login,\r\n            email: formData.email,\r\n            password: formData.password\r\n        }\r\n        API\r\n            .post('register', data)\r\n            .then((res) => {\r\n                setLoading(false);\r\n                enqueueSnackbar(\"Вы зарегистрированы!\", { variant: 'success' });\r\n                props.handleLink();\r\n            }, (error) => {\r\n                setLoading(false);\r\n                const response = error.response.data;\r\n                enqueueSnackbar(response.error, { variant: 'error' });\r\n                console.log(response);\r\n            });\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const formData1 = {\r\n            email: formData.email,\r\n            password: formData.password,\r\n            login: formData.login\r\n        };\r\n        formData1[event.target.name] = event.target.value;\r\n        setFormData(formData1);\r\n    }\r\n\r\n\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Регистрация\r\n                </Typography>\r\n                <ValidatorForm className={classes.form}\r\n                               onSubmit={handleSignUp}>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextValidator\r\n                                variant=\"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChange}\r\n                                label=\"Логин\"\r\n                                name=\"login\"\r\n                                autoComplete=\"username\"\r\n                                validators={['required']}\r\n                                errorMessages={['Это поле обязательное']}\r\n                                value={formData.login}\r\n                                disabled={loading}\r\n                                inputProps={{ className: classes.input }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextValidator\r\n                                variant=\"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChange}\r\n                                label=\"Email\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                                validators={['required', 'isEmail']}\r\n                                errorMessages={['Это поле обязательное', 'Неверный формат']}\r\n                                value={formData.email}\r\n                                disabled={loading}\r\n                                inputProps={{ className: classes.input }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextValidator\r\n                                variant=\"outlined\"\r\n                                fullWidth\r\n                                onChange={handleChange}\r\n                                name=\"password\"\r\n                                label=\"Пароль\"\r\n                                type=\"password\"\r\n                                autoComplete=\"new-password\"\r\n                                validators={['required']}\r\n                                errorMessages={['Это поле обязательное']}\r\n                                value={formData.password}\r\n                                disabled={loading}\r\n                                inputProps={{ className: classes.input }}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        type=\"submit\"\r\n                        disabled={loading}\r\n                        className={classes.submit}\r\n                    >\r\n                        Зарегистрироваться\r\n                    </Button>\r\n                    <Grid container justify=\"flex-end\">\r\n                        <Grid item>\r\n                            <Link style={{cursor: 'pointer'}} variant=\"body2\" onClick={() => props.handleLink()}>\r\n                                Уже есть аккаунт? Войти\r\n                            </Link>\r\n                        </Grid>\r\n                    </Grid>\r\n                </ValidatorForm>\r\n            </div>\r\n        </Container>\r\n    );\r\n}","import React, {useState} from \"react\";\r\nimport LoginLayout from \"../layouts/auth/LoginLayout\";\r\nimport RegisterLayout from \"../layouts/auth/RegisterLayout\";\r\n\r\nfunction AuthPage() {\r\n    const [login, setLogin] = useState(true);\r\n\r\n\r\n    function handleLink() {\r\n        setLogin(!login);\r\n    }\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {\r\n                login ? <LoginLayout handleLink={handleLink}/> : <RegisterLayout handleLink={handleLink}/>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AuthPage;","import { Container, makeStyles} from \"@material-ui/core\";\r\nimport {TextValidator, ValidatorForm} from \"react-material-ui-form-validator\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport React, {useState} from \"react\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport API from \"../utils/API\";\r\nimport {useAuthState} from \"../context\";\r\nimport {useHistory} from \"react-router\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\n\r\nfunction CircularProgressWithLabel(props) {\r\n    return (\r\n        <Box position=\"relative\" display=\"inline-flex\">\r\n            <CircularProgress variant=\"determinate\" {...props} />\r\n            <Box\r\n                top={0}\r\n                left={0}\r\n                bottom={0}\r\n                right={0}\r\n                position=\"absolute\"\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n            >\r\n                <Typography variant=\"caption\" component=\"div\" >{`${Math.round(\r\n                    props.value,\r\n                )}%`}</Typography>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n\r\nconst userStyle = makeStyles((theme) => ({\r\n    input: {\r\n        display: 'none'\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing(3)\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    }\r\n}));\r\n\r\nexport default function NewVideoPage() {\r\n    const classes = userStyle();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const userDetails = useAuthState();\r\n    const history = useHistory();\r\n    const [load, setLoad] = React.useState(false);\r\n    const [progress, setProgress] = useState(0);\r\n    const [formData, setFormData] = useState({\r\n        name: \"\",\r\n        about: '',\r\n        isPrivate: false\r\n    })\r\n\r\n    const handleChange = (event) => {\r\n        formData[event.target.name] = event.target.value;\r\n        setFormData({...formData});\r\n    }\r\n\r\n    const handleNewVideo = async () => {\r\n        setLoad(true);\r\n        const f = new FormData();\r\n        f.append(\"name\", formData.name);\r\n        f.append(\"about\", formData.about);\r\n        f.append(\"userId\", userDetails.user.id);\r\n\t    f.append(\"isPrivate\", false.toString());\r\n        f.append(\"file\", document.getElementById(\"icon-button-file\").files[0])\r\n        await API.post(\"file/videos\", f, {\r\n            onUploadProgress: (progressEvent) => {\r\n                const totalLength = progressEvent.lengthComputable ? progressEvent.total : progressEvent.target.getResponseHeader('content-length') || progressEvent.target.getResponseHeader('x-decompressed-content-length');\r\n                if (totalLength !== null) {\r\n                    setProgress(Math.round((progressEvent.loaded * 100) / totalLength));\r\n                }\r\n            }\r\n        }).then((response) => {\r\n                console.log(response.data);\r\n\t\t        enqueueSnackbar(\"Загрузка успешно завершена\", { variant: \"success\"});\r\n                setLoad(false);\r\n                setProgress(0);\r\n                history.push(\"/video/\" + response.data.data.id);\r\n        },\r\n            (error) => {\r\n                enqueueSnackbar(error.response.data.error, { variant: \"error\"});\r\n                setLoad(false);\r\n                setProgress(0);\r\n            }).catch((error) => {\r\n                console.log(error);\r\n        })\r\n    }\r\n\r\n    function handlePrivate() {\r\n        formData.isPrivate = !formData.isPrivate;\r\n        setFormData({...formData});\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth={\"sm\"}>\r\n            <div className={classes.paper}>\r\n                <ValidatorForm onSubmit={handleNewVideo}>\r\n                    <Grid container spacing={3} justify=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <input accept=\"video/mp4\" className={classes.input} id=\"icon-button-file\" type=\"file\" />\r\n                            <label htmlFor=\"icon-button-file\">\r\n                                <Button component=\"span\" color=\"primary\">\r\n                                    Выберите файл\r\n                                </Button>\r\n                            </label>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextValidator\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                onChange={handleChange}\r\n                                label=\"Название\"\r\n                                name=\"name\"\r\n                                autoComplete=\"off\"\r\n                                validators={['required']}\r\n                                errorMessages={['Это поле обязательное']}\r\n                                value={formData.name}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                multiline\r\n                                rowsMax={20}\r\n                                rows={4}\r\n                                onChange={handleChange}\r\n                                label=\"Описание\"\r\n                                name=\"about\"\r\n                                autoComplete=\"off\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} >\r\n                            <FormControlLabel\r\n                                control={<Switch checked={formData.isPrivate} onChange={handlePrivate} name=\"privateVideo\" />}\r\n                                label=\"Приватное видео\"\r\n                                color=\"textPrimary\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} lg={5}>\r\n                            <Button\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                            >\r\n                                Сохранить\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </ValidatorForm>\r\n                <Backdrop className={classes.backdrop} open={load}>\r\n                    <CircularProgressWithLabel value={progress} />\r\n                </Backdrop>\r\n            </div>\r\n        </Container>\r\n    )\r\n}","import {Typography} from \"@material-ui/core\";\r\nimport React, {useEffect} from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useAuthDispatch, useAuthState} from \"../context\";\r\nimport {checkAuth} from \"../context/actions\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    font: {\r\n        fontSize: 50\r\n    }\r\n}));\r\n\r\nfunction NotFoundPage() {\r\n    const classes = useStyles();\r\n    const dispatch = useAuthDispatch();\r\n    const userDetails = useAuthState();\r\n    const auth = userDetails.token !== '';\r\n    useEffect(() => checkAuth(dispatch), []);\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h1\" className={classes.font} color=\"textPrimary\">\r\n                    Страница не найдена\r\n                </Typography>\r\n            </div>\r\n        </Container>\r\n\r\n    )\r\n}\r\n\r\nexport default NotFoundPage;","import React, {useEffect, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {useAuthState} from \"../../context\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport API from \"../../utils/API\";\r\nimport {useHistory} from \"react-router\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {Divider} from \"@material-ui/core\";\r\nimport {CheckBox} from \"@material-ui/icons\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\n\r\nfunction createData(id,name, views, likes, dislikes, about, isPrivate) {\r\n    return { id ,name, views, likes, dislikes, about, isPrivate };\r\n}\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n    if (b[orderBy] < a[orderBy]) {\r\n        return -1;\r\n    }\r\n    if (b[orderBy] > a[orderBy]) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n    return order === 'desc'\r\n        ? (a, b) => descendingComparator(a, b, orderBy)\r\n        : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n    const stabilizedThis = array.map((el, index) => [el, index]);\r\n    stabilizedThis.sort((a, b) => {\r\n        const order = comparator(a[0], b[0]);\r\n        if (order !== 0) return order;\r\n        return a[1] - b[1];\r\n    });\r\n    return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n    { id: 'name', numeric: false, disablePadding: true, label: 'Название' },\r\n    { id: 'views', numeric: true, disablePadding: false, label: 'Просмотры' },\r\n    { id: 'likes', numeric: true, disablePadding: false, label: 'Количество лайков' },\r\n    { id: 'dislikes', numeric: true, disablePadding: false, label: 'Количество дизлайков' },\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n    const { classes, order, orderBy, onRequestSort } = props;\r\n    const createSortHandler = (property) => (event) => {\r\n        onRequestSort(event, property);\r\n    };\r\n\r\n    return (\r\n        <TableHead>\r\n            <TableRow>\r\n                {headCells.map((headCell) => (\r\n                    <TableCell\r\n                        key={headCell.id}\r\n                        align={headCell.numeric ? 'right' : 'left'}\r\n                        sortDirection={orderBy === headCell.id ? order : false}\r\n                    >\r\n                        <TableSortLabel\r\n                            active={orderBy === headCell.id}\r\n                            direction={orderBy === headCell.id ? order : 'asc'}\r\n                            onClick={createSortHandler(headCell.id)}\r\n                        >\r\n                            {headCell.label}\r\n                            {orderBy === headCell.id ? (\r\n                                <span className={classes.visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </span>\r\n                            ) : null}\r\n                        </TableSortLabel>\r\n                    </TableCell>\r\n                ))}\r\n                <TableCell align=\"right\">\r\n                    Тип\r\n                </TableCell>\r\n                <TableCell>\r\n                    Действия\r\n                </TableCell>\r\n            </TableRow>\r\n        </TableHead>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: '100%',\r\n    },\r\n    paper: {\r\n        width: '100%',\r\n        marginBottom: theme.spacing(2),\r\n    },\r\n    table: {\r\n        minWidth: 750,\r\n    },\r\n    visuallyHidden: {\r\n        border: 0,\r\n        clip: 'rect(0 0 0 0)',\r\n        height: 1,\r\n        margin: -1,\r\n        overflow: 'hidden',\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 20,\r\n        width: 1,\r\n    },\r\n}));\r\n\r\nexport default function TableVideosLayout() {\r\n    const classes = useStyles();\r\n    const [order, setOrder] = useState('asc');\r\n    const [orderBy, setOrderBy] = useState('calories');\r\n    const [page, setPage] = useState(0);\r\n    const [rows, setRows] = useState([]);\r\n    const [open, setOpen] = useState(false);\r\n    const [currentRow, setCurrentRow] = useState({\r\n        name: '',\r\n        id: 0,\r\n        about: '',\r\n        isPrivate: false\r\n    });\r\n    const userDetails = useAuthState();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const rowsPerPage = 8;\r\n    const history = useHistory();\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    function loadRows() {\r\n        API.get(\"videos/user/\" + userDetails.user.id)\r\n            .then((response) => {\r\n                    console.log(response.data.data);\r\n                    const r = [];\r\n                    Array.prototype.map.call(response.data.data, function (item) {\r\n                        r.push(createData(item.id, item.name, item.views, item.likes, item.dislikes, item.about, item.isPrivate))\r\n                    })\r\n                    setRows(r);\r\n                },\r\n                (error) => {\r\n                    console.log(error);\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                })\r\n    }\r\n\r\n    useEffect(() => {\r\n        loadRows();\r\n    },[])\r\n\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n\r\n    function deleteVideo(id) {\r\n        API.delete(\"videos/\" + id)\r\n            .then((response) => {\r\n                enqueueSnackbar(\"Успешное удаление\", {variant: \"success\"});\r\n                loadRows();\r\n            },\r\n                (error) => {\r\n                    console.log(error);\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                })\r\n    }\r\n\r\n    function openEditVideo(row) {\r\n        setCurrentRow(row);\r\n        setOpen(true);\r\n    }\r\n\r\n    function closeEditVideo() {\r\n        setOpen(false);\r\n        loadRows();\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper}>\r\n                <TableContainer>\r\n                    <Table\r\n                        className={classes.table}\r\n                        aria-labelledby=\"tableTitle\"\r\n                        size='medium'\r\n                        aria-label=\"enhanced table\"\r\n                    >\r\n                        <EnhancedTableHead\r\n                            classes={classes}\r\n                            order={order}\r\n                            orderBy={orderBy}\r\n                            onRequestSort={handleRequestSort}\r\n                            rowCount={rows.length}\r\n                        />\r\n                        <TableBody>\r\n                            {stableSort(rows, getComparator(order, orderBy))\r\n                                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                                .map((row, index) => {\r\n\r\n                                    return (\r\n                                        <TableRow\r\n                                            hover\r\n                                            role=\"checkbox\"\r\n                                            tabIndex={-1}\r\n                                            key={row.id}\r\n                                        >\r\n                                            <TableCell style={{cursor: \"pointer\"}} onClick={() => { history.push(\"/video/\" + row.id);}}>{row.name}</TableCell>\r\n                                            <TableCell align=\"right\">{row.views}</TableCell>\r\n                                            <TableCell align=\"right\">{row.likes}</TableCell>\r\n                                            <TableCell align=\"right\">{row.dislikes}</TableCell>\r\n                                            <TableCell align=\"right\">{row.isPrivate === false ? \"Публичное\" : \"Приватное\"}</TableCell>\r\n                                            <TableCell>\r\n                                                <IconButton \r\n                                                    size=\"small\"\r\n                                                    onClick={() => {openEditVideo(row)}}\r\n                                                >\r\n                                                    <EditIcon />\r\n                                                </IconButton>\r\n                                                <IconButton\r\n                                                    size=\"small\"\r\n                                                    onClick={() => {deleteVideo(row.id)}}>\r\n                                                    <DeleteIcon />\r\n                                                </IconButton>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    );\r\n                                })}\r\n                            {emptyRows > 0 && (\r\n                                <TableRow style={{ height: 53 * emptyRows }}>\r\n                                    <TableCell colSpan={6} />\r\n                                </TableRow>\r\n                            )}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <TablePagination\r\n                    rowsPerPageOptions={rowsPerPage}\r\n                    component=\"div\"\r\n                    count={rows.length}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onChangePage={handleChangePage}\r\n                />\r\n            </Paper>\r\n            <EditVideo\r\n                handleClose={closeEditVideo}\r\n                open={open}\r\n                row={currentRow}\r\n                handleChangeInput={(event) => {\r\n                    currentRow[event.target.name] = event.target.value;\r\n                    setCurrentRow({...currentRow});\r\n                }}\r\n                handlePrivate={() => {\r\n                    currentRow.isPrivate = !currentRow.isPrivate;\r\n                    setCurrentRow({...currentRow});\r\n                    console.log(currentRow)\r\n                }}\r\n                handleButton={() => {\r\n                    console.log(currentRow)\r\n                    API.put(`/videos/${currentRow.id}`, currentRow)\r\n                        .then((data) => {\r\n                                enqueueSnackbar(\"Успешно\", { variant: 'success' });\r\n                                closeEditVideo();\r\n                            },\r\n                            (error) => {\r\n                                enqueueSnackbar(\"Изменение не удалось\", { variant: 'error' });\r\n                                closeEditVideo();\r\n                            });\r\n                }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction EditVideo(props) {\r\n\r\n    return (\r\n        <Dialog open={props.open} onClose={props.handleClose} aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">{\"Редактирование видео '\" + props.row.name + \"'\"}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Изменение полей видео\r\n                </DialogContentText>\r\n                <TextField\r\n                    label=\"Название\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    onChange={props.handleChangeInput}\r\n                    name=\"name\"\r\n                    style={{marginBottom: 10}}\r\n                    value={props.row.name}\r\n                >\r\n                </TextField>\r\n                <Divider variant={\"fullWidth\"} style={{marginBottom: 10}}/>\r\n                <TextField\r\n                    label=\"Описание\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    onChange={props.handleChangeInput}\r\n                    name=\"about\"\r\n                    multiline\r\n                    rowsMax={10}\r\n                    value={props.row.about}\r\n                >\r\n                </TextField>\r\n                <FormControlLabel\r\n                    control={<Switch checked={props.row.isPrivate} onChange={props.handlePrivate} name=\"privateVideo\" />}\r\n                    label=\"Приватное видео\"\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={props.handleClose} color=\"primary\">\r\n                    Отмена\r\n                </Button>\r\n                <Button onClick={props.handleButton} color=\"primary\">\r\n                    Применить\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import {Avatar, Container, makeStyles} from \"@material-ui/core\";\r\nimport React, {useState} from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport {TextValidator, ValidatorForm} from \"react-material-ui-form-validator\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {PhotoCamera} from \"@material-ui/icons\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport {useAuthDispatch, useAuthState} from \"../../context\";\r\nimport API from \"../../utils/API\";\r\nimport {changeUsername} from \"../../context/actions\";\r\nimport CustomAvatar from \"../../components/CustomAvatar\";\r\n\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    input: {\r\n        display: 'none',\r\n    },\r\n    flex: {\r\n        display: 'flex',\r\n        alignItems: \"center\",\r\n        justifyContent: 'space-around'\r\n    }\r\n}));\r\n\r\nexport default function EditProfileLayout() {\r\n    const classes = useStyle();\r\n    const userDetails = useAuthState();\r\n    const dispatch = useAuthDispatch();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        password: '',\r\n        username: userDetails.user.username,\r\n        img: userDetails.user.img\r\n    })\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleEditProfile = () => {\r\n        setLoading(true);\r\n        API.put(\"users\", formData)\r\n            .then((response) => {\r\n                console.log(response);\r\n                changeUsername(dispatch, response.data.data);\r\n                enqueueSnackbar(\"Профиль успешно изменен\", { variant: \"success\"});\r\n                setLoading(false);\r\n            },\r\n                (error) => {\r\n                    enqueueSnackbar(error.response.data.error, { variant: \"error\"});\r\n                    setLoading(false);\r\n                })\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        const formData1 = {\r\n            ...formData,\r\n            email: formData.email,\r\n            password: formData.password,\r\n            username: formData.username\r\n        };\r\n        formData1[event.target.name] = event.target.value;\r\n        console.log(formData1);\r\n        setFormData(formData1);\r\n    }\r\n\r\n    function handleLoadImg(event) {\r\n        const file = event.target.files[0];\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        setLoading(true);\r\n        reader.onload = () => {\r\n            setFormData({\r\n                ...formData,\r\n                img: reader.result\r\n            })\r\n            setLoading(false);\r\n        }\r\n        reader.onerror = error => {\r\n            enqueueSnackbar(\"Ошибка при перекодировании картинки\", { variant: \"warning\"});\r\n            setLoading(false);\r\n        };\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth={\"sm\"}>\r\n            <div className={classes.paper}>\r\n                <ValidatorForm onSubmit={handleEditProfile}>\r\n                    <Grid container spacing={3} justify=\"center\">\r\n                        <Grid item xs={12}>\r\n                            <div className={classes.flex}>\r\n                                <CustomAvatar src={formData.img} name={userDetails.user.username} />\r\n                                <input accept=\"image/*\" className={classes.input} id=\"icon-button-file\" type=\"file\" onChange={handleLoadImg} />\r\n                                <label htmlFor=\"icon-button-file\">\r\n                                    <IconButton color=\"primary\" size=\"small\" aria-label=\"upload picture\" component=\"span\" disabled={loading}>\r\n                                        <PhotoCamera />\r\n                                    </IconButton>\r\n                                </label>\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextValidator\r\n                                varint=\"standard\"\r\n                                fullWidth\r\n                                onChange={handleChange}\r\n                                label=\"Логин\"\r\n                                name=\"username\"\r\n                                autoComplete=\"off\"\r\n                                validators={['required']}\r\n                                errorMessages={['Это поле обязательное']}\r\n                                value={formData.username}\r\n                                disabled={loading}\r\n                            >\r\n                            </TextValidator>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                varint=\"standard\"\r\n                                fullWidth\r\n                                label=\"Email\"\r\n                                name=\"email\"\r\n                                disabled\r\n                                value={userDetails.user.email}\r\n                            >\r\n                            </TextField>\r\n                        </Grid>\r\n                        <Grid item xs={12} lg={5}>\r\n                            <Button\r\n                                fullWidth\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                type=\"submit\"\r\n                                disabled={loading}\r\n                            >\r\n                                Сохранить\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                </ValidatorForm>\r\n            </div>\r\n        </Container>\r\n    )\r\n}","import React, {useEffect} from \"react\";\r\nimport {Button, Container, Grid, makeStyles, Typography} from \"@material-ui/core\";\r\nimport {useHistory} from \"react-router\";\r\nimport TableVideosLayout from \"../layouts/profile/TableVideosLayout\";\r\nimport EditProfileLayout from \"../layouts/profile/EditProfileLayout\";\r\nimport {useAuthDispatch} from \"../context\";\r\nimport {checkAuth} from \"../context/actions\";\r\n\r\n\r\nconst useStyle = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(2)\r\n    },\r\n    headers: {\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n    addVideo: {\r\n        marginBottom: theme.spacing(2),\r\n        display: 'flex',\r\n        alignItems: \"center\",\r\n        justifyContent: 'space-between'\r\n    }\r\n}));\r\n\r\nexport default function ProfilePage() {\r\n    const classes = useStyle();\r\n    const dispatch = useAuthDispatch();\r\n    const history = useHistory();\r\n    useEffect(() => checkAuth(dispatch), []);\r\n\r\n    return (\r\n        <Container maxWidth=\"lg\">\r\n            <Grid container className={classes.paper} spacing={4}>\r\n                <Grid item xs={12}>\r\n                    <Typography variant=\"h4\" className={classes.headers} color=\"textPrimary\">\r\n                        Ваш профиль\r\n                    </Typography>\r\n                    <EditProfileLayout />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                    <div className={classes.addVideo}>\r\n                        <Typography variant=\"h4\" color=\"textPrimary\">\r\n                            Ваши видео\r\n                        </Typography>\r\n                        <Button color=\"primary\" variant=\"text\" onClick={() => history.push(\"/new\")}>Добавить видео</Button>\r\n                    </div>\r\n                    <TableVideosLayout />\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n    )\r\n}","import {useHistory, useLocation} from \"react-router\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport React, {useRef, useState} from \"react\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport API from \"../utils/API\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default function ResetPasswordPage() {\r\n    const query = useQuery();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const passwordRef = useRef(null);\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleReset = () => {\r\n        setLoading(true);\r\n        const data = {\r\n            id: query.get(\"id\"),\r\n            token: query.get(\"token\"),\r\n            newPassword: passwordRef.current.value\r\n        }\r\n        API.put(\"/reset\", data)\r\n            .then((data) => {\r\n                setLoading(false);\r\n                enqueueSnackbar(\"Пароль изменен\", {variant: \"success\"});\r\n                history.push(\"/auth\");\r\n            }, (error) => {\r\n                enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                setLoading(false);\r\n            });\r\n    }\r\n\r\n    return (\r\n        <Container maxWidth=\"sm\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Восстановление пароля\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        fullWidth\r\n                        name=\"new-password\"\r\n                        label=\"Введите новый пароль\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"new-password\"\r\n                        disabled={loading}\r\n                        inputRef={passwordRef}\r\n                    />\r\n                    <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={handleReset}\r\n                        disabled={loading}\r\n                    >\r\n                        Сменить пароль\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    )\r\n}","import {useAuthDispatch, useAuthState} from \"../context\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport {checkAuth} from \"../context/actions\";\r\nimport {Button, ButtonGroup, Container, Divider, Grid, Typography} from \"@material-ui/core\";\r\nimport PanelCardsVideosLayout from \"../layouts/PanelCardsVideosLayout\";\r\nimport API from \"../utils/API\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Loading from \"../components/Loading\";\r\nimport {useSnackbar} from \"notistack\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\nimport CustomAvatar from \"../components/CustomAvatar\";\r\n\r\nexport default function UserPage()\r\n{\r\n    const { userId } = useParams();\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const dispatch = useAuthDispatch();\r\n    const userDetails = useAuthState();\r\n    const history = useHistory();\r\n    const [videosData, setVideosData] = useState([]);\r\n    const [userData, setUserData] = useState({\r\n        id: 0,\r\n        name: \"name\",\r\n        isAdmin: false,\r\n        img: \"asd\"\r\n    })\r\n    const [loading, setLoading] = useState(true)\r\n    useEffect(() => checkAuth(dispatch), []);\r\n\r\n    useEffect(() => {\r\n        API.get(\"videos/user/\" + userId)\r\n            .then((response) => {\r\n                    const v = [];\r\n                    Array.prototype.map.call(response.data.data, function (item) {\r\n                        v.push(item)\r\n                    })\r\n                    setVideosData(v);\r\n                    enqueueSnackbar(\"Видео загружены\", {variant: \"info\"});\r\n                    loadUserData();\r\n                }, (error) => {\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                })\r\n    }, [])\r\n\r\n    function loadUserData() {\r\n        setLoading(true);\r\n        API.get(\"users/\" + userId)\r\n            .then((response) => {\r\n                    setUserData(response.data.data);\r\n                    enqueueSnackbar(\"Данные юзера загружены\", {variant: \"info\"});\r\n                    setLoading(false);\r\n                }, (error) => {\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n                })\r\n    }\r\n\r\n    function handleChangeRole() {\r\n        const data = {\r\n            userId: userId,\r\n            isAdmin: !userData.isAdmin\r\n        }\r\n        console.log(data)\r\n        API.put(\"users/admin\", data)\r\n            .then((response) => {\r\n                enqueueSnackbar(\"Роль именилась\", {variant: \"info\"});\r\n                loadUserData();\r\n            }, (error) => {\r\n                    enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n            });\r\n    }\r\n\r\n    function handleDeleteUser() {\r\n        API.delete(\"users/\" + userId)\r\n            .then((res) => {\r\n                enqueueSnackbar(\"Пользователь с id = \" + userId + \" удален\", {variant: \"info\"});\r\n                history.push(\"/\");\r\n            }, (error) => {\r\n                enqueueSnackbar(error.response.data.error, {variant: \"error\"});\r\n            });\r\n    }\r\n\r\n    const main =\r\n        <Container maxWidth={\"lg\"} style={{marginTop: 40}}>\r\n            <Grid container spacing={4} direction=\"column\" justify=\"flex-start\" alignItems=\"center\">\r\n                <Grid item container spacing={3} xs={12} justify=\"flex-end\" alignItems=\"center\">\r\n                    <Grid item container spacing={3} xs={8} justify=\"flex-start\" alignItems=\"center\">\r\n                        <CustomAvatar\r\n                            src={userData.img}\r\n                            name={userData.name}\r\n                            style={{marginRight:25}}\r\n                        />\r\n                        <Typography variant=\"h6\" color=\"textPrimary\">\r\n                            {userData.name}\r\n                        </Typography>\r\n                    </Grid>\r\n                    {userDetails.user.isAdmin === true &&\r\n                    <Grid item xs={4} >\r\n                        <ButtonGroup variant=\"outlined\" size=\"small\" color=\"secondary\">\r\n                            <Button onClick={handleChangeRole}>\r\n                                {userData.isAdmin ? \"Убрать права администратора\" : \"Сделать администратором\"}\r\n                            </Button>\r\n                            <Button onClick={handleDeleteUser}>\r\n                                Удалить пользователя\r\n                            </Button>\r\n                        </ButtonGroup>\r\n                    </Grid>\r\n                    }\r\n                </Grid>\r\n                <Grid item sx={12}>\r\n                    <Divider variant=\"fullWidth\" />\r\n                </Grid>\r\n                <Grid item xs={12} container justify=\"flex-start\">\r\n                    <Typography variant=\"h6\" color=\"textPrimary\">\r\n                        Видео пользователя\r\n                    </Typography>\r\n                    <Divider variant=\"fullWidth\" />\r\n                </Grid>\r\n                <Divider variant=\"fullWidth\" color={\"#ffffff\"} />\r\n                <Grid item xs={12}>\r\n                    <Fade>\r\n                        <PanelCardsVideosLayout\r\n                            handleNextPage={() => {}}\r\n                            nextPage={false}\r\n                            videosData={videosData}\r\n                        />\r\n                    </Fade>\r\n                </Grid>\r\n            </Grid>\r\n        </Container>\r\n\r\n    return loading ? <Loading /> : main;\r\n}","import {createMuiTheme, ThemeProvider} from \"@material-ui/core/styles\";\r\nimport orange from \"@material-ui/core/colors/orange\";\r\nimport React from \"react\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport VideoPage from \"./pages/VideoPage\";\r\nimport HomePage from \"./pages/HomePage\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport {AuthProvider, useAuthState} from \"./context\";\r\nimport {SnackbarProvider} from \"notistack\";\r\nimport * as locales from '@material-ui/core/locale';\r\nimport PrimarySearchAppBar from \"./layouts/AppBar\";\r\nimport AuthPage from \"./pages/AuthPage\";\r\nimport NewVideoPage from \"./pages/NewVideoPage\";\r\nimport NotFoundPage from \"./pages/NotFoundPage\";\r\nimport ProfilePage from \"./pages/ProfilePage\";\r\nimport ResetPasswordPage from \"./pages/ResetPasswordPage\";\r\nimport UserPage from \"./pages/UserPage\";\r\nimport pink from \"@material-ui/core/colors/pink\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n      primary: orange,\r\n      secondary: pink,\r\n      type: 'dark',\r\n      text: {\r\n          primary: \"#ffffff\",\r\n          secondary: \"#b8b8b8\"\r\n      }\r\n  },\r\n  breakpoints: {\r\n    values: {\r\n      xs: 0,\r\n      sm: 600,\r\n      md: 960,\r\n      lg: 1280,\r\n      xl: 1920\r\n    },\r\n  }\r\n}, locales['ruRU']);\r\n\r\nconst StyledContainer = withStyles({\r\n    root: {\r\n        marginTop: 12\r\n    }\r\n})(Container);\r\n\r\n\r\nfunction Routing() {\r\n    const userDetails = useAuthState();\r\n    const auth = userDetails.token !== '';\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path=\"/video/:videoToken\" children={<VideoPage />} />\r\n            <Route path=\"/user/:userId\" children={<UserPage />} />\r\n            <Route exact path=\"/\" children={<HomePage />} />\r\n            {\r\n                !auth && <Route path=\"/auth\" children={<AuthPage />} />\r\n            }\r\n            {\r\n                !auth && <Route path=\"/reset\" children={<ResetPasswordPage />} />\r\n            }\r\n            {\r\n                auth && <Route path=\"/profile\" children={<ProfilePage />} />\r\n            }\r\n            {\r\n                auth && <Route path=\"/new\" children={<NewVideoPage />} />\r\n            }\r\n            <Route children={<NotFoundPage />} />\r\n        </Switch>\r\n    )\r\n}\r\n\r\n\r\nfunction App() {\r\n\r\n    return (\r\n        <AuthProvider>\r\n            <ThemeProvider theme={theme}>\r\n                <CssBaseline />\r\n                <SnackbarProvider maxSnack={3}>\r\n                    <PrimarySearchAppBar />\r\n                    <StyledContainer maxWidth=\"lg\">\r\n                        <Routing />\r\n                    </StyledContainer>\r\n                </SnackbarProvider>\r\n            </ThemeProvider>\r\n        </AuthProvider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'fontsource-roboto';\r\nimport {BrowserRouter} from \"react-router-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render((\r\n    <BrowserRouter>\r\n        <App />\r\n    </BrowserRouter>\r\n), document.getElementById('root'));"],"sourceRoot":""}